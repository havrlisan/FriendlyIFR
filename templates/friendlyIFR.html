{% extends 'layout.html' %}

{% block body %}
<nav class="navbar navbar-expand-lg navbar-dark bg-dark noselect" style="height: 50px;">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">
            <img src="../static/favicon.ico" alt="" width="30" height="30" class="d-inline-block align-text-top">
            FriendlyIFR
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup"
            aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
                <a class="nav-link" href="/docs">Documentation</a>
                <a class="nav-link" href="/about">About</a>
            </div>
        </div>
    </div>
</nav>

<div class="d-flex noselect" style="height: calc(100vh - 50px)" id="captureElement">

    <!-- Pixi.js container -->
    <div class="w-75 bg-secondary" id="pixi-app-container"></div>

    <!-- Controls container -->
    <div class="d-flex flex-column align-items-center w-25 p-2">

        <!-- Current time -->
        <div class="row w-100 mb-2 border-bottom">
            <!--div class="col">
                    <h1 class="h6 fw-bolder text-centered">Current time:</h1>
                </div-->
            <div class="col">
                <h1 class="h5 fw-normal text-centered" id="lblCurrentTime">13.10.2021. 13:00:00</h1>
            </div>
        </div>

        <!-- Stopwatch -->
        <div class="row w-100 justify-content-center align-items-center pb-2 mb-2 border-bottom">
            <h1 class="h5 mb-2 text-centered" id="lblStopwatch">00:00:00</h1>
            <div class="col-md-auto">
                <button type="button" class="btn btn-outline-secondary btn-sm" id="btnStartStopwatch">Start</button>
            </div>
            <div class="col-md-auto">
                <button type="button" class="btn btn-outline-danger btn-sm" id="btnResetStopwatch">Reset</button>
            </div>
        </div>

        <!-- Inputs -->
        <div class="row w-100 justify-content-evenly pb-2 mb-2 border-bottom">

            <!-- Airplane speed -->
            <div class="row justify-content-start align-items-center">
                <div class="col col-sm-5">
                    <label for="edSpeed" class="h5 col-form-label text-centered">Airplane speed:</label>
                </div>
                <div class="col col-sm-3">
                    <input type="text" id="edSpeed" class="form-control form-control-sm text-centered">
                </div>
                <div class="col col-sm-3">
                    <label for="edSpeed" id="edSpeedHint" class="col-form-label text-black-50">(0-999)</label>
                </div>
            </div>

            <!-- Wind speed -->
            <div class="row justify-content-start align-items-center">
                <div class="col col-sm-5">
                    <label for="edWindSpeed" class="h5 col-form-label">Wind speed:</label>
                </div>
                <div class="col col-sm-3">
                    <input type="text" id="edWindSpeed" class="form-control form-control-sm text-centered">
                </div>
                <div class="col col-sm-3">
                    <label for="edWindSpeed" id="edWindSpeedHint" class="col-form-label text-black-50">(0-500)</label>
                </div>
            </div>

            <!-- Wind direction -->
            <div class="row justify-content-start align-items-center">
                <div class="col col-sm-5">
                    <label for="edWindDirection" class="h5 col-form-label">Wind direction:</label>
                </div>
                <div class="col col-sm-3">
                    <input type="text" id="edWindDirection" class="form-control form-control-sm text-centered">
                </div>
                <div class="col col-sm-3">
                    <label for="edWindDirection" id="edWindDirectionHint" class="col-form-label text-black-50">(0-360)</label>
                </div>
            </div>
        </div>

        <!-- Controls -->
        <div class="row w-100 row-cols-2 g-2 p-1" style="overflow-y: auto;">
            <!-- General -->
            <div class="col" id="controls-row1">
                <ul class="list-unstyled small">
                    <div class="d-grid gap-2">
                        <button class="btn btn-dark mb-1 btn-block" data-bs-toggle="collapse" aria-expanded="true"
                            data-bs-target="#row1-collapse" aria-controls="row1-collapse">
                            General
                        </button>
                    </div>
                    <li>
                        <ul class="list-unstyled ps-2 pe-2 collapse show" id="row1-collapse">
                            <li>
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="swAirplaneVisible" checked>
                                    <label class="form-check-label" for="swAirplaneVisible">Show airplane</label>
                                </div>
                            </li>
                            <li>
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="swCourseLinesVisible" checked>
                                    <label class="form-check-label" for="swCourseLinesVisible">Show course lines</label>
                                </div>
                            </li>
                            <li>
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="swPaused">
                                    <label class="form-check-label" for="swPaused">Paused</label>
                                </div>
                            </li>
                            <li>
                                <div class="row ps-3 pe-3 mt-3 justify-content-center">
                                    <button type="button" class="btn btn-outline-danger btn-sm" id="btnClearTrail">Erase path</button>
                                </div>
                            </li>
                        </ul>
                    </li>

                </ul>
            </div>

            <!-- Instrument -->
            <div class="col" id="controls-row1">
                <ul class="list-unstyled small">
                    <div class="d-grid gap-2">
                        <button class="btn btn-dark mb-1 btn-block" data-bs-toggle="collapse" aria-expanded="true"
                            data-bs-target="#row1-collapse" aria-controls="row1-collapse">
                            Instruments
                        </button>
                    </div>
                    <li>
                        <ul class="list-unstyled ps-2 pe-2 collapse show" id="row1-collapse">
                            <li>
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="swInstrumentDG" name="instrument">
                                    <label class="form-check-label" for="swInstrumentDG">DG</label>
                                </div>
                            </li>
                            <li>
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="swInstrumentRBI" name="instrument">
                                    <label class="form-check-label" for="swInstrumentRBI">RBI</label>
                                </div>
                            </li>
                            <li>
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="swInstrumentRMI" name="instrument">
                                    <label class="form-check-label" for="swInstrumentRMI">RMI</label>
                                </div>
                            </li>
                            <li>
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="swInstrumentHSI" name="instrument">
                                    <label class="form-check-label" for="swInstrumentHSI">HSI</label>
                                </div>
                            </li>
                            <li>
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="swInstrumentCDI" name="instrument">
                                    <label class="form-check-label" for="swInstrumentCDI">CDI</label>
                                </div>
                            </li>
                        </ul>
                    </li>

                </ul>
            </div>

            <!-- Options -->
            <div class="col" id="controls-row2">
                <ul class="list-unstyled small">
                    <div class="d-grid gap-2">
                        <button class="btn btn-dark mb-1 btn-block" data-bs-toggle="collapse" aria-expanded="true"
                            data-bs-target="#row2-collapse" aria-controls="row2-collapse">
                            Options
                        </button>
                    </div>
                    <li>
                        <ul class="list-unstyled ps-3 pe-3 collapse show" id="row2-collapse">
                            <li>
                                <div class="row mt-1 justify-content-center">
                                    <button type="button" class="btn btn-outline-secondary btn-sm" id="btnSaveImage">Save image</button>
                                </div>
                            </li>
                            <li>
                                <div class="row mt-1 justify-content-center">
                                    <button type="button" class="btn btn-outline-secondary btn-sm" id="btnSaveSetup">Save setup</button>
                                </div>
                            </li>
                            <li>
                                <div class="row mt-1 justify-content-center">
                                    <button type="button" class="btn btn-outline-secondary btn-sm" id="btnLoadSetup">Load setup</button>
                                </div>
                            </li>
                            <li>
                                <div class="row mt-1 justify-content-center">
                                    <button type="button" class="btn btn-outline-secondary btn-sm" id="btnTestMode">Test mode</button>
                                </div>
                            </li>
                        </ul>
                    </li>

                </ul>
            </div>

            <!-- Information -->
            <div class="col" id="controls-row2">
                <ul class="list-unstyled small">
                    <div class="d-grid gap-2">
                        <button class="btn btn-dark mb-1 btn-block" data-bs-toggle="collapse" aria-expanded="true"
                            data-bs-target="#row2-collapse" aria-controls="row2-collapse">
                            Information
                        </button>
                    </div>
                    <li>
                        <ul class="list-unstyled ps-1 pe-1 collapse show" id="row2-collapse">
                            <li>
                                <div class="mt-1 justify-content-center">
                                    <textarea class="form-control form-control-sm" id="setupInformation" style="height: 136px; resize: none; font-size: small"></textarea>
                                </div>
                            </li>
                        </ul>
                    </li>

                </ul>
            </div>

            <!-- Editor -->
            <div class="col" id="controls-row3">
                <ul class="list-unstyled small">
                    <div class="d-grid gap-2">
                        <button class="btn btn-dark mb-1 btn-block" data-bs-toggle="collapse" aria-expanded="true"
                            data-bs-target="#row3-collapse" aria-controls="row3-collapse">
                            Editor
                        </button>
                    </div>
                    <li>
                        <ul class="list-unstyled ps-2 pe-2 collapse show" id="row3-collapse">
                            <li>
                                <div class="row ps-3 pe-3 justify-content-center">
                                    <button type="button" class="btn btn-outline-danger btn-sm" id="btnDrawRadial" data-bs-toggle="button" autocomplete="off">Draw radial</button>
                                </div>
                            </li>
                            <li class="row row-cols-2 p-1 flex-fill justify-content-evenly align-items-center">
                                <div class="col w-50">
                                    <input class="form-check-input" type="radio" name="radioVOR" id="rbVORA" checked>
                                    <label for="rbVORA">VOR A</label>
                                </div>
                                <div class="col w-50">
                                    <input class="form-check-input" type="radio" name="radioVOR" id="rbVORB">
                                    <label for="rbVORB">VOR B</label>
                                </div>
                            </li>
                            <li class="row row-cols-2 pt-2 flex-fill justify-content-evenly align-items-center">
                                <div class="col w-25">
                                    <label for="edVORRadius">Radius:</label>
                                </div>
                                <div class="col w-50">
                                    <input type="text" id="edVORRadius" class="form-control form-control-sm text-centered">
                                </div>
                            </li>
                            <li class="row row-cols-2 pt-2 flex-fill justify-content-evenly align-items-center">
                                <div class="col w-25">
                                    <label for="edVORStart">Start:</label>
                                </div>
                                <div class="col w-50">
                                    <input type="text" id="edVORStart" class="form-control form-control-sm text-centered">
                                </div>
                            </li>
                            <li class="row row-cols-2 pt-2 flex-fill justify-content-evenly align-items-center">
                                <div class="col w-25">
                                    <label for="edVORLength">Length:</label>
                                </div>
                                <div class="col w-50">
                                    <input type="text" id="edVORLength" class="form-control form-control-sm text-centered">
                                </div>
                            </li>
                        </ul>
                    </li>

                </ul>
            </div>
        </div>
    </div>
</div>

<!-- Libs -->
<script src="../lib/pixi.min.js"></script> <!-- https://pixijs.com -->
<!--script src="../lib/viewport.min.js"></script-->
<!-- https://github.com/davidfig/pixi-viewport -->
<!--script src="../lib/pixi-cull.min.js"></script-->
<!-- https://github.com/davidfig/pixi-cull -->
<script src="../lib/pixi-mousewheel.js"></script> <!-- https://github.com/Mwni/pixi-mousewheel -->
<script src="../lib/fps.min.js"></script> <!-- https://github.com/davidfig/fps -->
<!-- General -->
<script type="text/javascript" src="../source/elements.js"></script>
<script type="text/javascript" src="../source/common.js"></script>
<script type="text/javascript" src="../source/misc.js"></script>
<script type="text/javascript" src="../source/time.js"></script>
<!-- Pixi-related -->
<script type="text/javascript" src="../source/wind.js"></script>
<script type="text/javascript" src="../source/airplane.js"></script>
<script type="text/javascript" src="../source/groundradars.js"></script>
<script type="text/javascript" src="../source/instruments.js"></script>

<script type="text/javascript" src="../source/loader.js"></script>
<script type="text/javascript" src="../source/events.js"></script>
<script type="text/javascript" src="../source/application.js"></script>
{% endblock %}